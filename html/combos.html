<!DOCTYPE html>
<html>
<head>
<title>MC Instances</title>
</head>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script type="text/javascript">
var tokenid, tenantid;
var url = 'https://10.105.231.23:3000';

var login = {"username": "admin", "password": "nomoresecrete"};

function AsistenteREST(url, verbo, header, data){
    $.ajax({
        url: url,
        type: verbo,
        header: header,
        contentType: 'application/json; charset=utf-8',
        dataType: 'json',                
        data: data,
        success: function(result) {
            console.log(result);
        }
    });    
}


function LanzarCombo(tipo){
    console.log(tipo);
    }

function ListarServidores(){
    //AsistenteREST('https://10.105.231.23:3000/servers', 'GET', '', );

var auth = new Object();
auth.tokenid = tokenid;
auth.tenantid = tenantid;

    $.ajax({
        url: 'https://10.105.231.23:3000/misservers', 
	type: 'POST',
        contentType: 'application/json; charset=utf-8',
	data: JSON.stringify(auth),
	success: function(result) {
            console.log(result);
        }
    });     
}

$.ajax({
        url: "https://10.105.231.23:3000/tokens",
        type: 'POST',
        contentType: 'application/json; charset=utf-8',
        dataType: 'json',        
        data: JSON.stringify(login),
        success: function(result) {
            tokenid = result.tokenid;
            tenantid = result.tenantid;
            console.log("token: " + tokenid);
            console.log("tenant: " + tenantid);
	ListarServidores();
        }
});


</script>
</head>
<body>
<div style="width: 600px;">
 <div id="chico" style="float: left; width: 200px; height: 300px; background-color: lightsalmon;" onclick="lanzarCombo(this.id);">chico</div>
 <div id="mediano"style="float: left; width: 200px; height: 300px; background-color: lightgreen;" onclick="lanzarCombo(this.id);">mediano</div>
 <div id="grande" style="float: left; width: 200px; height: 300px; background-color: lightblue;" onclick="lanzarCombo(this.id);">grande</div>
 <br style="clear: left;" />
</div>
</body>
</html>
